<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bitfinex Node.js Reference Implementation</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all_nosearch.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a href='https://bitfinex.com' title="Bitfinex"><img src="images/logo.png" /></a>
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">Node.js</a>
        </div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://bitfinex.com'><strong>Back to Bitfinex</strong></a></li>
            <li><a href='https://github.com/bitfinexcom/bitfinex-api-node/tree/master'><strong>Library Github</strong></a></li>
            <li><a href='https://github.com/bitfinexcom/bitfinex-api-node/tree/Documentation'><strong>Documentation Github</strong></a></li>
            <li><a href='http://bitfinexcom.github.io/bitfinex-api-node/images/coverage/lcov-report/index.html'><strong>Coverage Report</strong></a></li>
            <li><a href='http://docs.bitfinex.com'><strong>API docs</strong></a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p><a href="https://travis-ci.org/bitfinexcom/bitfinex-api-node"><img alt="Build Status" src="https://travis-ci.org/bitfinexcom/bitfinex-api-node.svg?branch=master" /></a></p>

<p>This is the documentation for the Bitfinex Node reference implementation. 
You can find the code at <a href="https://github.com/bitfinexcom/bitfinex-api-node/tree/master">https://github.com/bitfinexcom/bitfinex-api-node/tree/master</a></p>

<h2 id="api-access">API Access</h2>

<p>In order to access the parts of the API which require authentication, you must generate an API key and an API secret
using <a href="https://www.bitfinex.com/account/api">this page</a></p>

<p>You can generate as many API keys as you would like, and each of those keys can be customized in a few ways.</p>

<h3 id="standard-api-key">Standard API Key</h3>

<ul>
<li>The standard API key can be used for all general account activities with two exceptions.</li>
</ul>

<h3 id="read-only-key">Read-only Key</h3>

<ul>
<li>This type of API key can be used to allow passive monitoring of an account. It is not able to make any changes to the
account, or update any data.</li>
</ul>

<h3 id="withdrawal-enabled-key">Withdrawal enabled key</h3>

<ul>
<li>Provides, in addition to the standard key&rsquo;s privileges, the ability to move funds between
wallets or to withdraw funds from your account.</li>
</ul>

<aside class="notice">
You cannot create an API key that is both enabled for withdrawal AND Read-only.
</aside>

          <h1 id="rest">REST</h1>

<h2 id="general">General</h2>

<h3 id="url">URL</h3>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.bitfinex.com/v1"</span>
</code></pre>

<p><code class="prettyprint">https://api.bitfinex.com/v1</code></p>

<h3 id="authentication">Authentication</h3>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/account_infos"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>

<p>Authentication is done using an API key and a secret. To generate this pair,
go to the <a href="https://www.bitfinex.com/account/api">API Access</a> page.
As an example of how to authenticate, we can look at the &ldquo;account_infos&rdquo; endpoint.
Take the example payload to the right.</p>

<aside class="warning">
The nonce provided must be strictly increasing.
</aside>

          <p><a name="BitfinexWS"></a></p>

<h2 id="bitfinexws">BitfinexWS</h2>

<p><strong>Kind</strong>: global class  </p>

<ul>
<li><a href="#BitfinexWS">BitfinexWS</a>

<ul>
<li><a href="#new_BitfinexWS_new">new BitfinexWS(APIKey, APISecret)</a></li>
<li><em>instance</em>

<ul>
<li><a href="#BitfinexWS+subscribeOrderBook">.subscribeOrderBook([pair], [precision],
[length])</a></li>
<li><a href="#BitfinexWS+subscribeTrades">.subscribeTrades([pair])</a></li>
<li><a href="#BitfinexWS+subscribeTicker">.subscribeTicker([pair])</a></li>
<li><a href="#BitfinexWS+unsubscribe">.unsubscribe(chanId)</a></li>
<li><a href="#BitfinexWS+auth">.auth()</a></li>
<li><a href="#BitfinexWS+event_message">&ldquo;message&rdquo;</a></li>
<li><a href="#BitfinexWS+event_open">&ldquo;open&rdquo;</a></li>
<li><a href="#BitfinexWS+event_error">&ldquo;error&rdquo;</a></li>
<li><a href="#BitfinexWS+event_close">&ldquo;close&rdquo;</a></li>
<li><a href="#BitfinexWS+event_subscribed">&ldquo;subscribed&rdquo;</a></li>
<li><a href="#BitfinexWS+event_auth">&ldquo;auth&rdquo;</a></li>
<li><a href="#BitfinexWS+event_ps">&ldquo;ps&rdquo;</a></li>
<li><a href="#BitfinexWS+event_pn">&ldquo;pn&rdquo;</a></li>
<li><a href="#BitfinexWS+event_pu">&ldquo;pu&rdquo;</a></li>
<li><a href="#BitfinexWS+event_pc">&ldquo;pc&rdquo;</a></li>
<li><a href="#BitfinexWS+event_ws">&ldquo;ws&rdquo;</a></li>
<li><a href="#BitfinexWS+event_ws">&ldquo;ws&rdquo;</a></li>
<li><a href="#BitfinexWS+event_os">&ldquo;os&rdquo;</a></li>
<li><a href="#BitfinexWS+event_on">&ldquo;on&rdquo;</a></li>
<li><a href="#BitfinexWS+event_ou">&ldquo;ou&rdquo;</a></li>
<li><a href="#BitfinexWS+event_oc">&ldquo;oc&rdquo;</a></li>
<li><a href="#BitfinexWS+event_te">&ldquo;te&rdquo;</a></li>
<li><a href="#BitfinexWS+event_tu">&ldquo;tu&rdquo;</a></li>
<li><a href="#BitfinexWS+event_ticker">&ldquo;ticker&rdquo;</a></li>
<li><a href="#BitfinexWS+event_trade">&ldquo;trade&rdquo;</a></li>
<li><a href="#BitfinexWS+event_orderbook">&ldquo;orderbook&rdquo;</a></li>
</ul></li>
<li><em>static</em>

<ul>
<li><a href="#BitfinexWS.WebSocketURI">.WebSocketURI</a> :
<code>String</code></li>
</ul></li>
</ul></li>
</ul>

<p><a name="new_BitfinexWS_new"></a></p>

<h3 id="new-bitfinexws-apikey-apisecret">new BitfinexWS(APIKey, APISecret)</h3>

<p>Handles communitaction with Bitfinex WebSocket API.</p>

<table><thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>APIKey</td>
<td><code>sting</code></td>
</tr>
<tr>
<td>APISecret</td>
<td><code>string</code></td>
</tr>
</tbody></table>

<p><a name="BitfinexWS+subscribeOrderBook"></a></p>

<h3 id="bitfinexws-subscribeorderbook-pair-precision-length">bitfinexWS.subscribeOrderBook([pair], [precision], [length])</h3>

<p>Subscribe to Order book updates. Snapshot will be sended as multiple
updates.
Event will be emited as <code class="prettyprint">PAIRNAME_book</code>.</p>

<p><strong>Kind</strong>: instance method of <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<strong>See</strong>: http://docs.bitfinex.com/#order-books  </p>

<table><thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[pair]</td>
<td><code>string</code></td>
<td>BTCUSD, LTCUSD or LTCBTC. Default</td>
</tr>
<tr>
<td>BTCUSD</td>
<td></td>
<td></td>
</tr>
<tr>
<td>[precision]</td>
<td><code>string</code></td>
<td>Level of price aggregation (P0,</td>
</tr>
<tr>
<td>P1, P2, P3).                              The default is P0.</td>
<td></td>
<td></td>
</tr>
<tr>
<td>[length]</td>
<td><code>string</code></td>
<td>Number of price points. 25 (default)</td>
</tr>
<tr>
<td>or 100.</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<p><a name="BitfinexWS+subscribeTrades"></a></p>

<h3 id="bitfinexws-subscribetrades-pair">bitfinexWS.subscribeTrades([pair])</h3>

<p>Subscribe to trades. Snapshot will be sended as multiple updates.
Event will be emited as <code class="prettyprint">PAIRNAME_trades</code>.</p>

<p><strong>Kind</strong>: instance method of <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<strong>See</strong>: http://docs.bitfinex.com/#trades75  </p>

<table><thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[pair]</td>
<td><code>string</code></td>
<td>BTCUSD, LTCUSD or LTCBTC. Default</td>
</tr>
<tr>
<td>BTCUSD</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<p><a name="BitfinexWS+subscribeTicker"></a></p>

<h3 id="bitfinexws-subscribeticker-pair">bitfinexWS.subscribeTicker([pair])</h3>

<p>Subscribe to ticker updates. The ticker is a high level overview of the
state
of the market. It shows you the current best bid and ask, as well as the
last
trade price.</p>

<p>Event will be emited as <code class="prettyprint">PAIRNAME_ticker</code>.</p>

<p><strong>Kind</strong>: instance method of <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<strong>See</strong>: http://docs.bitfinex.com/#ticker76  </p>

<table><thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[pair]</td>
<td><code>string</code></td>
<td>BTCUSD, LTCUSD or LTCBTC. Default</td>
</tr>
<tr>
<td>BTCUSD</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<p><a name="BitfinexWS+unsubscribe"></a></p>

<h3 id="bitfinexws-unsubscribe-chanid">bitfinexWS.unsubscribe(chanId)</h3>

<p>Unsubscribe to a channel.</p>

<p><strong>Kind</strong>: instance method of <code><a href="#BitfinexWS">BitfinexWS</a></code>  </p>

<table><thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>chanId</td>
<td><code>number</code></td>
<td>ID of the channel received on</td>
</tr>
<tr>
<td><code class="prettyprint">subscribed</code> event.</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<p><a name="BitfinexWS+auth"></a></p>

<h3 id="bitfinexws-auth">bitfinexWS.auth()</h3>

<p>Autenticate the user. Will receive executed traded updates.</p>

<p><strong>Kind</strong>: instance method of <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<strong>See</strong>: http://docs.bitfinex.com/#wallet-updates<br>
<a name="BitfinexWS+event_message"></a></p>

<h3 id="quot-message-quot">&ldquo;message&rdquo;</h3>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_open"></a></p>

<h3 id="quot-open-quot">&ldquo;open&rdquo;</h3>

<p>WebSocket connection is open. Ready to send.</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_error"></a></p>

<h3 id="quot-error-quot">&ldquo;error&rdquo;</h3>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_close"></a></p>

<h3 id="quot-close-quot">&ldquo;close&rdquo;</h3>

<p>WebSocket connection is closed.</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_subscribed"></a></p>

<h3 id="quot-subscribed-quot">&ldquo;subscribed&rdquo;</h3>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<strong>Properties</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel</td>
<td><code>string</code></td>
<td>Channel type</td>
</tr>
<tr>
<td>pair</td>
<td><code>string</code></td>
<td>Currency pair.</td>
</tr>
<tr>
<td>chanId</td>
<td><code>number</code></td>
<td>Channel ID sended by Bitfinex</td>
</tr>
</tbody></table>

<p><a name="BitfinexWS+event_auth"></a></p>

<h3 id="quot-auth-quot">&ldquo;auth&rdquo;</h3>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_ps"></a></p>

<h3 id="quot-ps-quot">&ldquo;ps&rdquo;</h3>

<p>position snapshot</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_pn"></a></p>

<h3 id="quot-pn-quot">&ldquo;pn&rdquo;</h3>

<p>new position</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_pu"></a></p>

<h3 id="quot-pu-quot">&ldquo;pu&rdquo;</h3>

<p>position update</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_pc"></a></p>

<h3 id="quot-pc-quot">&ldquo;pc&rdquo;</h3>

<p>position close</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_ws"></a></p>

<h3 id="quot-ws-quot">&ldquo;ws&rdquo;</h3>

<p>wallet snapshot</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_ws"></a></p>

<h3 id="quot-ws-quot">&ldquo;ws&rdquo;</h3>

<p>wallet snapshot</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_os"></a></p>

<h3 id="quot-os-quot">&ldquo;os&rdquo;</h3>

<p>order snapshot</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_on"></a></p>

<h3 id="quot-on-quot">&ldquo;on&rdquo;</h3>

<p>new order</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_ou"></a></p>

<h3 id="quot-ou-quot">&ldquo;ou&rdquo;</h3>

<p>order update</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_oc"></a></p>

<h3 id="quot-oc-quot">&ldquo;oc&rdquo;</h3>

<p>order cancel</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_te"></a></p>

<h3 id="quot-te-quot">&ldquo;te&rdquo;</h3>

<p>trade executed</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_tu"></a></p>

<h3 id="quot-tu-quot">&ldquo;tu&rdquo;</h3>

<p>trade execution update</p>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<a name="BitfinexWS+event_ticker"></a></p>

<h3 id="quot-ticker-quot">&ldquo;ticker&rdquo;</h3>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<strong>Properties</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>bid</td>
<td><code>number</code></td>
</tr>
<tr>
<td>bidSize</td>
<td><code>number</code></td>
</tr>
<tr>
<td>ask</td>
<td><code>number</code></td>
</tr>
<tr>
<td>askSize</td>
<td><code>number</code></td>
</tr>
<tr>
<td>dailyChange</td>
<td><code>number</code></td>
</tr>
<tr>
<td>dailyChangePerc</td>
<td><code>number</code></td>
</tr>
<tr>
<td>lastPrice</td>
<td><code>number</code></td>
</tr>
<tr>
<td>volume</td>
<td><code>number</code></td>
</tr>
<tr>
<td>high</td>
<td><code>number</code></td>
</tr>
<tr>
<td>low</td>
<td><code>number</code></td>
</tr>
</tbody></table>

<p><a name="BitfinexWS+event_trade"></a></p>

<h3 id="quot-trade-quot">&ldquo;trade&rdquo;</h3>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<strong>See</strong>: http://docs.bitfinex.com/#trades75<br>
<strong>Properties</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>seq</td>
<td><code>string</code></td>
</tr>
<tr>
<td>timestamp</td>
<td><code>number</code></td>
</tr>
<tr>
<td>price</td>
<td><code>number</code></td>
</tr>
<tr>
<td>amount</td>
<td><code>number</code></td>
</tr>
</tbody></table>

<p><a name="BitfinexWS+event_orderbook"></a></p>

<h3 id="quot-orderbook-quot">&ldquo;orderbook&rdquo;</h3>

<p><strong>Kind</strong>: event emitted by <code><a href="#BitfinexWS">BitfinexWS</a></code><br>
<strong>See</strong>: http://docs.bitfinex.com/#order-books<br>
<strong>Properties</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td><code>string</code></td>
</tr>
<tr>
<td>count</td>
<td><code>number</code></td>
</tr>
<tr>
<td>amount</td>
<td><code>number</code></td>
</tr>
</tbody></table>

<p><a name="BitfinexWS.WebSocketURI"></a></p>

<h3 id="bitfinexws-websocketuri-string">BitfinexWS.WebSocketURI : <code>String</code></h3>

<p><strong>Kind</strong>: static constant of <code><a href="#BitfinexWS">BitfinexWS</a></code>  </p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">Node.js</a>
          </div>
      </div>
    </div>
  </body>
</html>
